# 着陆

### ~button /#tutorial:/tutorials/lander

我们创建一个登月游戏！

### ~

## Introduction @unplugged

![Game animation](/static/tutorials/lander.gif)

建立一个简单的着陆游戏，玩家的目标是将飞艇着陆在着陆板上。
当玩家与地面接触或侧身着陆时，游戏结束了！
该示例游戏基于月球着陆器在太空中的运行，但您可以将其设置为所需的任何方案-例如，一架直升飞机穿越丛林，或避开珊瑚的潜水员。

## 第 1 步 @fullscreen

从``||scene:场景||``中找到``||scene:设置图块地图为||``程序块并将其嵌入到 `||loops:当开机时||`程序块。
点击灰色矩形打开图块地图编辑器。

进入图像编辑器，将尺寸设置为 **10 x 8** （这将填满整个屏幕）
绘制玩家所需要规避的障碍物，
然后在最末端绘制一个降落地。
确保留下一个地图图块作为“起飞地”，
并将该图块设置为 **Wall**。
这就是我们飞船飞行设置障碍物的地方，请确保可以完成！

```blocks
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
    `
    //% blockIdentity=images._tile
    export const tile2 = img`
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    `
    //% blockIdentity=images._tile
    export const tile3 = img`
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
    `
}
tiles.setTilemap(tiles.createTilemap(
    hex`0a0008000000000000000202020200000000000000020202000000020000000202020000020202000002020000000202020000000200000002020202000000000002020202020200000003020202020202020201`,
    img`
        . . . . . . . . . .
        . . . . . . . . . .
        . . . . . . . . . .
        . . . . . . . . . .
        . . . . . . . . . .
        . . . . . . . . . .
        . . . . . . . . . .
        2 . . . . . . . . .
    `,
    [myTiles.tile0,myTiles.tile1,myTiles.tile2,myTiles.tile3],
    TileScale.Sixteen
))
```

## 第 2 步 @fullscreen

从``||sprites:精灵||``中拖拽 ``||sprites:将 mySprite 设为||``到 `||loops:当开机时||`程序块。点击``||variables:mySprite||``下拉菜单,重新命名为``||variables:登陆器||``，点击灰色矩形打开图像编辑器，绘制一艘飞船。

```blocks
let lander = sprites.create(img`
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . d d d . . . . . . .
    . . . . . d d d d d . . . . . .
    . . . . d d 1 1 1 d d . . . . .
    . . . . d d 1 1 1 d d . . . . .
    . . . . d d d d d d d . . . . .
    . . . . . d d d d d . . . . . .
    . . . . . f d d d f . . . . . .
    . . . . f f . . . f f . . . . .
    . . . 2 . . . . . . . 2 . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
    . . . . . . . . . . . . . . . .
`, SpriteKind.Player)
```

## 第 3 步 @fullscreen

在``||sprites:精灵||``中找到``||sprites:设置 mySprite 的位置为||`` 然后拖拽到``||sprites:将 mySprite 设为||``程序块后面。修改``||variables:mySprite||``为``||variables:登陆器||``,然后在“位置选择器”中使用（单击“x”的空格并单击“位置选择器”），然后将其放置在您放置起始位置的上方。

```blocks
let lander: Sprite = null
lander.setPosition(6, 102)
```

## 第 4 步 @fullscreen

在``||sprites:精灵||``中拖拽``||sprites:设置 mySprite 保持在屏幕中||``程序块并放到``||sprites:设置 登陆器 位置为||``程序块下面。将开关切换到 **开**，将变量修改为``||variables:登陆器||``。接下来，拖拽``||sprites:将 mySprite 的x||``程序块拖到 ``||sprites:设置 mySprite 保持在屏幕中||``下面。点击``x``选择 ``ay``并将值设置为``30``。

```blocks
let lander: Sprite = null
lander.setFlag(SpriteFlag.StayInScreen, true)
lander.ay = 30
```

## 第 5 步 @fullscreen

在``||variables:变量||``中拖拽``||variables:将 变量 设为||``程序块到``||loops:当开机时||``中。修改变量名称为``||variables:angle||``,然后从``||text:文本||``拖拽一个文本（点击高级展开）程序块放到它的 0 位置，并修改它的值为``"straight"``。

```blocks
let angle = "straight"
```

## 第 6 步 @fullscreen

从``||controller:控制器||``中拖拽``||controller:当按钮 A 按下||``程序块到编程区。从``||logic:逻辑||``里面拖拽``||logic:如果为 则 否则||``程序块到``||controller:当按钮 A 按下||``内部。点击尾部的 **(+)** 按钮。从``||logic:逻辑||``拖拽出``||logic:0 = 0||``程序块替换``||logic:如果||``程序块条件。复制 ``||logic:0=0||`` 程序块替换``||logic:否则如果为||``程序块条件，对于两个``||logic:0 = 0||``语句，设置第一个的值为``||variables:angle||``。拖拽``||text:" "||``程序块放在两个条件的第二个值。第一个语句设置``||variables:angle||`` 是否等于 ``straight``。对于 "否则如果" 设置``||variables:angle||`` 是否等于``"left"``。

```blocks
let angle = "straight"
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (angle == "straight") {
    } else if (angle == "left") {
    } else {
    }
})
```


## 第 7 步 @fullscreen

在``||sprites:精灵||``中拖拽3个``||sprites:设置 mySprite 的速度为 vx vy||``并且放在每一个``||logic:如果||``，``||logic:否则 如果||``和``||logic:否则||``的内部。设置3个精灵变量都为``||variables:登陆器||``。第一个，设置``vx``为``0``,``vy`` 为 ``-20``。第二个，设置 ``vx`` 为 ``-6`` ， ``vy`` 为 ``-20``。然后最后一个，设置``vx`` 为 ``6``,``vy`` 为 ``-20``。

```blocks
let lander: Sprite = null
let angle = "straight"
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (angle == "straight") {
        lander.setVelocity(0, -20)
    } else if (angle == "left") {
        lander.setVelocity(-6, -20)
    } else {
        lander.setVelocity(6, -20)
    }
})
```

## 第 8 步 @fullscreen


当精灵撞击月球表面时，它会被摧毁。所以从``||scene:场景||``拖拽``||scene: 当 sprite 类型 Player 与图块 在 location 重叠时||``到编程区。确保图像和障碍物一样。从``||sprites:精灵||``拖拽``||sprites:销毁 mySprite||``程序块，修改精灵为``||variables:登陆器||``,点击 **(+)** 按钮。设置特效为``火焰``，时间为``500`` 毫秒。从 ``||game:游戏||``拖拽``||game:游戏结束||``程序块，点击 **(+)** 按钮并设置特效为``分解``。

```blocks
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
    `
    //% blockIdentity=images._tile
    export const tile2 = img`
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    `
    //% blockIdentity=images._tile
    export const tile3 = img`
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
    `
}
let lander: Sprite = null
scene.onOverlapTile(SpriteKind.Player, myTiles.tile2, function (sprite, location) {
    lander.destroy(effects.fire, 500)
    game.over(false, effects.dissolve)
})
```

## 第 9 步 @fullscreen

从``||scene:场景||`` 拖拽``||scene: 当 sprite 类型 Player 与图块 在 location 重叠时||``到编程区。确保设置的着陆图片。然后拖拽 ``||logic:如果为 则 否则||`` 程序块放到其内部。再一次，从``||logic:逻辑||`` 拖拽 ``||logic:0 = 0||`` 并放在 ``||logic:如果||`` 条件语句。从``||variables:变量||``中拖拽 ``||variables:angle||``放在``||logic:0 = 0||``程序块第一个值的位置。从``||text:文本||``中拖拽``" "``程序块放在第二个值，输入字符串``straight``。

```blocks
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
    `
    //% blockIdentity=images._tile
    export const tile2 = img`
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    `
    //% blockIdentity=images._tile
    export const tile3 = img`
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
    `
}
let angle = ""
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    if (angle == "straight") {
    } else {
    }
})
```

## 第 10 步 @fullscreen

在``||game:游戏||``找到``||game:游戏结束||``程序块并拖拽到``||logic:如果为 则 否则||``第一个语句内部。点击切换到 **获胜**，然后点击 **(+)** 按钮，选择``星图``。然后，在 ``||sprites:精灵||``中找到 ``||sprites:销毁 mySprite||``，拖拽到``||logic:否则||``程序块内部，切换 ``||variables:mySprite||``为``||variables:登陆器||``。点击 **(+)** 按钮并且选择``火焰`` 特效，时间为``500`` 毫秒。最后，拖拽另外一个``||game:游戏结束||``程序块放到``||sprites:销毁 mySprite||`` 程序块后面。点击 **(+)** 按钮并且设置特效为``分解``。

```blocks

namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
        4 4 4 4 4 4 4 4 4 4 4 4 4 4 4 4
    `
    //% blockIdentity=images._tile
    export const tile2 = img`
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
        1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1
    `
    //% blockIdentity=images._tile
    export const tile3 = img`
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
        7 7 7 7 7 7 7 7 7 7 7 7 7 7 7 7
    `
}
let lander: Sprite = null
let angle: string = null;
scene.onOverlapTile(SpriteKind.Player, myTiles.tile1, function (sprite, location) {
    if (angle == "straight") {
        game.over(true, effects.starField)
    } else {
        lander.destroy(effects.fire, 500)
        game.over(false, effects.dissolve)
    }
})
```

## 第 11 步 @fullscreen

从``||controller:控制器||``中拖拽``||controller:当按钮 A 按下||``程序块到编程区。修改``A``为``左``。然后从 ``||variables:变量||``中拖拽``||variables:将 variable 设为||``程序块到``||controller:当按钮 左 按下||``。切换变量为``||variables:angle||``。从``||text:文本||``中拖拽``" "``程序块并且放到``为``后面，输入``left``。从``||sprites:精灵||``拖拽``||sprites:设置 图像为||`` 程序块并设置变量为``||variables:登陆器||``。绘制一个向左偏斜的着陆器图像。

```blocks
let lander: Sprite = null
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    let angle = "left"
    lander.setImage(img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . d d d . . . . . . . .
        . . . . d d d d d . . . . . . .
        . . . d d d 1 1 d d . . . . . .
        . . . d d 1 1 1 d d . . . . . .
        . . . d d 1 1 d d d f f . . . .
        . . . . d d d d d . . . f . . .
        . . . . . d d d . . . . . 2 . .
        . . . . . . . f . . . . . . . .
        . . . . . . . f . . . . . . . .
        . . . . . . . . f . . . . . . .
        . . . . . . . . . 2 . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `)
})
```

## 第 12 步 @fullscreen

右击``||controller:当按钮 左 按下||``并且复制两次。依次选择按钮 ``右`` 和 ``上``。对于``右``修改文本为``"right"``，对于``上``修改文本为``"straight"``。最后，对于``右``绘制一张倾斜向右的飞船的图像，对于``上``按钮复制第一个垂直向上的飞船图像并粘贴到图像编辑器里面。

```blocks
let lander: Sprite = null
let angle: string = null;
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    angle = "left"
    lander.setImage(img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . d d d . . . . . . . .
        . . . . d d d d d . . . . . . .
        . . . d d d 1 1 d d . . . . . .
        . . . d d 1 1 1 d d . . . . . .
        . . . d d 1 1 d d d f f . . . .
        . . . . d d d d d . . . f . . .
        . . . . . d d d . . . . . 2 . .
        . . . . . . . f . . . . . . . .
        . . . . . . . f . . . . . . . .
        . . . . . . . . f . . . . . . .
        . . . . . . . . . 2 . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `)
})
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    angle = "right"
    lander.setImage(img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . d d d . . . . .
        . . . . . . . d d d d d . . . .
        . . . . . . d d 1 1 d d d . . .
        . . . . . . d d 1 1 1 d d . . .
        . . . . f f d d d 1 1 d d . . .
        . . . f . . . d d d d d . . . .
        . . 2 . . . . . d d d . . . . .
        . . . . . . . . f . . . . . . .
        . . . . . . . . f . . . . . . .
        . . . . . . . f . . . . . . . .
        . . . . . . 2 . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `)
})
controller.up.onEvent(ControllerButtonEvent.Pressed, function () {
    angle = "straight"
    lander.setImage(img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . d d d . . . . . . .
        . . . . . d d d d d . . . . . .
        . . . . d d 1 1 1 d d . . . . .
        . . . . d d 1 1 1 d d . . . . .
        . . . . d d d d d d d . . . . .
        . . . . . d d d d d . . . . . .
        . . . . . f d d d f . . . . . .
        . . . . f f . . . f f . . . . .
        . . . 2 . . . . . . . 2 . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `)
})
```

## 完成 @fullscreen

恭喜，您已经完成游戏！ 现在尝试做更多的关卡！