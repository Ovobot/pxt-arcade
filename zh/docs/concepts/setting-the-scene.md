# 设置场景

[Open this tutorial in the editor!](/#tutorial:/concepts/setting-the-scene)

## Introduction @unplugged

游戏中的地图和关卡对于使游戏变得有趣至关重要。 ``||scene:Tilemaps||``用于创建供玩家探索的地图，甚至可以设置地图以防止玩家越过特定点。

## 第 1 步 @fullscreen

在``||scene:场景||``中找到``||scene:设置图块地图为||``，并嵌入到``||loops:当开机时||``。

```blocks
tiles.setTilemap(tiles.createTilemap(
    hex`1000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
    img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `,
    [],
    TileScale.Sixteen
))

```

## 第 2 步 @fullscreen

单击``||scene:设置图块地图为||``中的灰色框以打开图块编辑器。 从图库中选择一个图块（或在 `我的图块` 下创建自己的图块），然后为``||scene:tilemap||``绘制一个小图块。

运行代码，注意图块地图显示为背景。图像编辑器中图形的每个像素在屏幕上显示为16x16正方形。

```blocks
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
    `
}
tiles.setTilemap(tiles.createTilemap(
    hex`1000100000000000000000000000000000000000000000010000010000000000000000000000000100000100000000000000000000000001000001000000000000000000000000000000000000000000000000000000010000000001000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
    img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `,
    [myTiles.tile0,myTiles.tile1],
    TileScale.Sixteen
))

```

## 第 3 步 @fullscreen

找到``||variables:将 mySprite 设为||``并嵌入到``||loops:当开机时||``以创建``||sprites:精灵||``。打开``||sprites:精灵||``的图像编辑器，创建一个图像显示在屏幕上。

```blocks
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
    `
}
tiles.setTilemap(tiles.createTilemap(
    hex`1000100000000000000000000000000000000000000000010000010000000000000000000000000100000100000000000000000000000001000001000000000000000000000000000000000000000000000000000000010000000001000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
    img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `,
    [myTiles.tile0,myTiles.tile1],
    TileScale.Sixteen
))
let mySprite = sprites.create(img`
. . . . . . f f f f . . . . . .
. . . . f f f 2 2 f f f . . . .
. . . f f f 2 2 2 2 f f f . . .
. . f f f e e e e e e f f f . .
. . f f e 2 2 2 2 2 2 e e f . .
. . f e 2 f f f f f f 2 e f . .
. . f f f f e e e e f f f f . .
. f f e f b f 4 4 f b f e f f .
. f e e 4 1 f d d f 1 4 e e f .
. . f e e d d d d d d e e f . .
. . . f e e 4 4 4 4 e e f . . .
. . e 4 f 2 2 2 2 2 2 f 4 e . .
. . 4 d f 2 2 2 2 2 2 f d 4 . .
. . 4 4 f 4 4 5 5 4 4 f 4 4 . .
. . . . . f f f f f f . . . . .
. . . . . f f . . f f . . . . .
`, SpriteKind.Player)
```

## 第 4 步 @fullscreen

找到``||controller:使用按键移动 mySprite||``并嵌入到``||loops:当开机时||``放在``||variables:将 mySprite 设为||``下方。

这允许玩家在屏幕上显示的地图上移动角色。不过，有一个问题，玩家可以直接通过我们设计的美丽图块！这是通过将它们全部更改为``||scene:Wall||``图块来解决的。

```blocks
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
    `
}
tiles.setTilemap(tiles.createTilemap(
    hex`1000100000000000000000000000000000000000000000010000010000000000000000000000000100000100000000000000000000000001000001000000000000000000000000000000000000000000000000000000010000000001000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
    img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `,
    [myTiles.tile0,myTiles.tile1],
    TileScale.Sixteen
))
let mySprite = sprites.create(img`
. . . . . . f f f f . . . . . .
. . . . f f f 2 2 f f f . . . .
. . . f f f 2 2 2 2 f f f . . .
. . f f f e e e e e e f f f . .
. . f f e 2 2 2 2 2 2 e e f . .
. . f e 2 f f f f f f 2 e f . .
. . f f f f e e e e f f f f . .
. f f e f b f 4 4 f b f e f f .
. f e e 4 1 f d d f 1 4 e e f .
. . f e e d d d d d d e e f . .
. . . f e e 4 4 4 4 e e f . . .
. . e 4 f 2 2 2 2 2 2 f 4 e . .
. . 4 d f 2 2 2 2 2 2 f d 4 . .
. . 4 4 f 4 4 5 5 4 4 f 4 4 . .
. . . . . f f f f f f . . . . .
. . . . . f f . . f f . . . . .
`, SpriteKind.Player)
controller.moveSprite(mySprite)
```

## 第 5 步 @fullscreen

打开地图编辑器，单击“Gallery”上方的墙图标。

使用它在你的地图上画出玩家不能穿越的墙。

![Example of drawing walls in the tilemap editor](/static/concepts/setting-the-scene/drawing-walls.gif)

```blocks
namespace myTiles {
    //% blockIdentity=images._tile
    export const tile0 = img`
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `
    //% blockIdentity=images._tile
    export const tile1 = img`
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
        5 5 5 5 4 4 4 4 5 5 5 5 4 4 4 4
    `
}
tiles.setTilemap(tiles.createTilemap(
    hex`1000100000000000000000000000000000000000000000010000010000000000000000000000000100000100000000000000000000000001000001000000000000000000000000000000000000000000000000000000010000000001000000000000000000000001010101000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000`,
    img`
        . . . . . . . . . . . . . . . .
        . . . 2 . . 2 . . . . . . . . .
        . . . 2 . . 2 . . . . . . . . .
        . . . 2 . . 2 . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . 2 . . . . 2 . . . . . . . .
        . . . 2 2 2 2 . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
        . . . . . . . . . . . . . . . .
    `,
    [myTiles.tile0,myTiles.tile1],
    TileScale.Sixteen
))
let mySprite = sprites.create(img`
    . . . . . . f f f f . . . . . .
    . . . . f f f 2 2 f f f . . . .
    . . . f f f 2 2 2 2 f f f . . .
    . . f f f e e e e e e f f f . .
    . . f f e 2 2 2 2 2 2 e e f . .
    . . f e 2 f f f f f f 2 e f . .
    . . f f f f e e e e f f f f . .
    . f f e f b f 4 4 f b f e f f .
    . f e e 4 1 f d d f 1 4 e e f .
    . . f e e d d d d d d e e f . .
    . . . f e e 4 4 4 4 e e f . . .
    . . e 4 f 2 2 2 2 2 2 f 4 e . .
    . . 4 d f 2 2 2 2 2 2 f d 4 . .
    . . 4 4 f 4 4 5 5 4 4 f 4 4 . .
    . . . . . f f f f f f . . . . .
    . . . . . f f . . f f . . . . .
`, SpriteKind.Player)
controller.moveSprite(mySprite)

```

## 完成 @fullscreen

恭喜，你的第一个地图完成了！尝试在屏幕上移动角色，或创建更多类型的``||scene:tiles||``。如果展开``||scene:tilemap||``图像，则可以创建一个更大的地图-如果展开了，请使用``||scene:镜头跟随精灵 mySprite 移动||``程序块使其保持在所控制角色的中心，以便可以浏览整个地图！
